<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zahlensystem-Umrechner mit Datum und Uhrzeit</title>
    <style>
        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
        }
        .checkbox-group {
            display: flex;
            gap: 20px;
        }
        .buttons {
            margin-top: 20px;
        }
        .datetime-inputs {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Zahlensystem-Umrechner mit Datum und Uhrzeit</h1>
    <div>
        <label for="decimal">Dezimal:</label>
        <input type="number" id="decimal" min="0" max="65535" value="0">
    </div>
    <div>
        <label for="hex">Hexadezimal:</label>
        <input type="text" id="hex" value="0">
    </div>
    <div>
        <label for="octal">Oktal:</label>
        <input type="text" id="octal" value="0">
    </div>
    <div>
        <label for="binary">Binär:</label>
        <input type="text" id="binary" value="0000000000000000">
    </div>
    <div>
        <label>Binär (Checkboxen):</label>
        <div class="checkbox-group">
            <div class="checkbox-grid" id="binary-checkboxes-1">
                <!-- Checkboxes werden dynamisch erzeugt -->
            </div>
            <div class="checkbox-grid" id="binary-checkboxes-2">
                <!-- Checkboxes werden dynamisch erzeugt -->
            </div>
        </div>
        <div class="checkbox-group">
            <div class="checkbox-grid" id="binary-checkboxes-3">
                <!-- Checkboxes werden dynamisch erzeugt -->
            </div>
            <div class="checkbox-grid" id="binary-checkboxes-4">
                <!-- Checkboxes werden dynamisch erzeugt -->
            </div>
        </div>
    </div>
    <div class="buttons">
        <button id="invert-bits">Bits invertieren</button>
        <button id="set-all-bits">Alle Bits auf 1 setzen</button>
    </div>
    <div class="datetime-inputs">
        <label for="date">Datum:</label>
        <input type="date" id="date">
        <label for="time">Uhrzeit:</label>
        <input type="time" id="time">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const decimalInput = document.getElementById('decimal');
            const hexInput = document.getElementById('hex');
            const octalInput = document.getElementById('octal');
            const binaryInput = document.getElementById('binary');
            const invertBitsButton = document.getElementById('invert-bits');
            const setAllBitsButton = document.getElementById('set-all-bits');
            const dateInput = document.getElementById('date');
            const timeInput = document.getElementById('time');

            const binaryCheckboxesContainer1 = document.getElementById('binary-checkboxes-1');
            const binaryCheckboxesContainer2 = document.getElementById('binary-checkboxes-2');
            const binaryCheckboxesContainer3 = document.getElementById('binary-checkboxes-3');
            const binaryCheckboxesContainer4 = document.getElementById('binary-checkboxes-4');

            // Erstelle 16 Checkboxen für die binäre Darstellung
            const binaryCheckboxes = [];
            for (let i = 0; i < 4; i++) {
                binaryCheckboxes.push(document.createElement('input'));
                binaryCheckboxes[i].type = 'checkbox';
                binaryCheckboxesContainer1.appendChild(binaryCheckboxes[i]);
            }
            for (let i = 4; i < 8; i++) {
                binaryCheckboxes.push(document.createElement('input'));
                binaryCheckboxes[i].type = 'checkbox';
                binaryCheckboxesContainer2.appendChild(binaryCheckboxes[i]);
            }
            for (let i = 8; i < 12; i++) {
                binaryCheckboxes.push(document.createElement('input'));
                binaryCheckboxes[i].type = 'checkbox';
                binaryCheckboxesContainer3.appendChild(binaryCheckboxes[i]);
            }
            for (let i = 12; i < 16; i++) {
                binaryCheckboxes.push(document.createElement('input'));
                binaryCheckboxes[i].type = 'checkbox';
                binaryCheckboxesContainer4.appendChild(binaryCheckboxes[i]);
            }

            // Funktion zur Aktualisierung der Werte
            function updateValues() {
                const decimalValue = parseInt(decimalInput.value, 10);
                const hexValue = decimalValue.toString(16).toUpperCase().padStart(4, '0');
                const octalValue = decimalValue.toString(8).padStart(6, '0');
                const binaryValue = decimalValue.toString(2).padStart(16, '0');

                hexInput.value = hexValue;
                octalInput.value = octalValue;
                binaryInput.value = binaryValue;

                // Aktualisiere die Checkboxen
                binaryValue.split('').forEach((bit, index) => {
                    binaryCheckboxes[index].checked = bit === '1';
                });
            }

            // Funktion zur Aktualisierung der Werte basierend auf Checkboxen
            function updateFromCheckboxes() {
                let binaryValue = '';
                binaryCheckboxes.forEach(checkbox => {
                    binaryValue += checkbox.checked ? '1' : '0';
                });

                const decimalValue = parseInt(binaryValue, 2);
                decimalInput.value = decimalValue;
                updateValues();
            }

            // Event-Listener für Eingabefelder
            decimalInput.addEventListener('input', updateValues);
            hexInput.addEventListener('input', () => {
                const hexValue = hexInput.value;
                const decimalValue = parseInt(hexValue, 16);
                if (!isNaN(decimalValue)) {
                    decimalInput.value = decimalValue;
                    updateValues();
                }
            });
            octalInput.addEventListener('input', () => {
                const octalValue = octalInput.value;
                const decimalValue = parseInt(octalValue, 8);
                if (!isNaN(decimalValue)) {
                    decimalInput.value = decimalValue;
                    updateValues();
                }
            });
            binaryInput.addEventListener('input', () => {
                const binaryValue = binaryInput.value;
                const decimalValue = parseInt(binaryValue, 2);
                if (!isNaN(decimalValue)) {
                    decimalInput.value = decimalValue;
                    updateValues();
                }
            });

            // Event-Listener für Checkboxen
            binaryCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateFromCheckboxes);
            });

            // Event-Listener für Buttons
            invertBitsButton.addEventListener('click', () => {
                binaryCheckboxes.forEach(checkbox => {
                    checkbox.checked = !checkbox.checked;
                });
                updateFromCheckboxes();
            });

            setAllBitsButton.addEventListener('click', () => {
                binaryCheckboxes.forEach(checkbox => {
                    checkbox.checked = true;
                });
                updateFromCheckboxes();
            });

            // Event-Listener für Datum und Uhrzeit
            dateInput.addEventListener('change', () => {
                console.log('Datum ausgewählt:', dateInput.value);
            });

            timeInput.addEventListener('change', () => {
                console.log('Uhrzeit ausgewählt:', timeInput.value);
            });

            // Initiales Update
            updateValues();
        });
    </script>
</body>
</html>
